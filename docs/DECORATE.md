# 🎨 꾸미기 요소 개발 계획 (Decoration System Development Plan)

본 문서는 **코인 클리커(Coin Clicker)** 게임 내에서 플레이어가 시각적인 즐거움을 느낄 수 있도록 하는  
**‘꾸미기(Decoration) 시스템’**의 설계 및 구현 계획을 정의합니다.

---

## 🎯 최종 목표

플레이어는 게임 플레이 중 획득한 재화를 사용하여  
**시각적 요소(스킨, 배경, 애니메이션 등)** 를 구매하고 적용할 수 있습니다.  
이를 통해 단순한 클릭 게임에 **개성, 성취감, 몰입도**를 추가하는 것이 목표입니다.

꾸미기 시스템에서 제공할 주요 항목은 다음과 같습니다.

1. **코인 및 자동 생산기 디자인** — 코인의 색상, 광택, 모양, 자동 생산기의 외형 등  
2. **배경 디자인** — 테마별 배경 이미지 및 색상 스킴  
3. **UI 아이콘 디자인** — 버튼 및 메뉴 아이콘의 스타일  
4. **클릭 애니메이션 스타일** — 클릭 시 발생하는 시각 효과(터치 파동, 반짝임 등)

---

## 🧭 개발 전략: 단계적 확장 방식

꾸미기 시스템은 한 번에 모든 기능을 완성하기보다는,  
**확장 가능한 기반 시스템을 먼저 구축한 뒤 단계적으로 기능을 추가**하는 접근을 취합니다.

이 구조를 통해 새로운 꾸미기 요소가 생겨도  
데이터 추가만으로 쉽게 업데이트할 수 있도록 설계합니다.

---

## 🏗️ 1단계 — “꾸미기 상점” 시스템 구축 및 코인 색상 기능 구현

시스템의 첫 단계는 **‘꾸미기 상점(Decoration Shop)’**을 구현하는 것입니다.  
이 상점은 아이템 데이터를 로드하고, 구매 및 적용 상태를 관리하며,  
플레이어가 시각적으로 꾸미기 아이템을 선택할 수 있는 핵심 UI가 됩니다.

### 🔧 주요 개발 작업

1. **아이템 데이터 구조 설계**  
   - 꾸미기 아이템 정보를 JSON 형식으로 정의 (`/assets/data/decoration_items.json`)  
   - 예시 필드:  
     ```json
     {
       "id": "coin_gold",
       "name": "골드 코인",
       "type": "coin",
       "price": 500,
       "assetPath": "assets/images/coins/gold.png",
       "isOwned": false,
       "isApplied": false
     }
     ```

2. **Dart 모델 클래스 생성 (`/lib/models/decoration_item.dart`)**  
   - JSON 데이터를 읽고 객체로 변환  
   - `DecorationItem` 클래스 내에 `fromJson()` 및 `toJson()` 메서드 포함

3. **`GameState` 구조 확장**  
   - 플레이어가 보유한 아이템과 현재 적용 중인 아이템을 추적  
   - SharedPreferences 또는 로컬 DB를 이용해 저장 및 불러오기 지원

4. **상점 UI 위젯 생성 (`/lib/widgets/decoration_shop.dart`)**  
   - 아이템 목록 표시  
   - ‘구매’, ‘적용’ 버튼 구현  
   - 현재 적용된 아이템 시각적으로 구분

5. **메인 메뉴와 연동**  
   - 기존 `GameMenuSheet`에 “꾸미기” 버튼을 연결하여 상점 진입 가능하도록 수정

6. **게임 화면 반영 로직 추가**  
   - 적용된 꾸미기 설정이 실제 게임 UI에 반영되도록 처리  
   - 예: 선택된 코인 색상이 클릭 시 렌더링되는 코인 이미지에 반영

### 🎨 첫 번째 구현 대상

- **코인 색상 변경 기능**  
  - 여러 가지 색상의 코인 아이템을 상점에 등록  
  - 구매 후 적용 시, 클릭할 때 표시되는 코인 색상이 변경됨  
  - 예: 기본(노란색) → 블루 / 핑크 / 골드 / 블랙 등

---

## 🚀 2단계 이후 확장 계획

1단계에서 구축한 꾸미기 시스템을 기반으로  
아래의 항목들을 순차적으로 추가합니다.

| 단계 | 항목 | 설명 |
|------|------|------|
| **2단계** | **배경 이미지 변경 기능** | 게임 배경을 다양한 테마(숲, 도시, 우주 등)로 교체 |
| **3단계** | **UI 아이콘 팩 변경 기능** | 버튼 및 메뉴 아이콘의 형태, 색상, 테마를 변경 |
| **4단계** | **클릭 애니메이션 스타일 추가** | 클릭 시의 이펙트(파티클, 반짝임, 충격파 등)를 선택 가능 |
| **5단계** | **자동 생산기 디자인 변경 기능** | 자동 생산기의 외형을 장식 아이템처럼 변경 |

---

## 🧱 기술적 고려사항

- **데이터 관리:**  
  아이템 데이터는 JSON 기반으로 로드되며, 추후 서버 연동을 고려해 구조 확장 가능하도록 설계  

- **저장 방식:**  
  로컬 저장(SharedPreferences 또는 Hive)을 사용하여  
  앱 재실행 시에도 꾸미기 설정이 유지되도록 함  

- **확장성:**  
  새로운 꾸미기 유형을 추가할 때, `DecorationType` enum과 JSON 데이터만 수정하면 동작하도록 구조화

---

## 📌 요약

| 항목 | 내용 |
|------|------|
| **1단계 목표** | 꾸미기 상점 구축 + 코인 색상 변경 기능 |
| **핵심 포인트** | 데이터 구조 표준화, GameState 확장, UI 반영 |
| **확장 계획** | 배경 → 아이콘 → 애니메이션 → 자동 생산기 순 |
| **최종 목표** | 플레이어 개성 표현 + 게임 몰입도 강화 |

---
